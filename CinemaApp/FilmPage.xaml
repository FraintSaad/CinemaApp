<Page
    x:Class="CinemaApp.FilmPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CinemaApp"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:models="using:CinemaApp.Models"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.TopAppBar>
        <CommandBar Background="#252526" Height="auto" DefaultLabelPosition="Right">
            <CommandBar.Content>
                <AppBarButton Icon="Back"
                            Click="BackButton_Click"/>
            </CommandBar.Content>
        </CommandBar>
    </Page.TopAppBar>
    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <ScrollViewer>
            <Grid Margin="20" x:Name="FilmGrid">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Постер фильма -->
                <Image Source="{x:Bind CurrentFilm.PosterUrlPreview, Mode=OneWay}" 
                   Stretch="UniformToFill"
                   Height="600"
                   Margin="0,0,20,0" Grid.Column="0" VerticalAlignment="Top"/>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="{x:Bind CurrentFilm.NameRu}" Foreground="White"  FontSize="36" FontWeight="SemiBold" LineHeight="32" TextWrapping="Wrap"/>
                    <TextBlock Text="{x:Bind CurrentFilm.NameOriginal}"  Foreground="#A0A0A0" FontSize="30" FontStyle="Italic" Margin="0,5,0,15"/>

                    <Rectangle Fill="#FFD700" Height="1" Margin="0,15,0,15" Opacity="0.3"/>

                    <StackPanel Orientation="Horizontal" Margin="0,15,0,0" Spacing="20">
                        <TextBlock Text="Рейтинги:" Margin="0, 5, 0, 0"/>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <FontIcon Glyph="" Foreground="Gold" FontSize="16"/>
                            <TextBlock Text="Кинопоиск: " Foreground="Gold" Margin="0, 5, 0, 0"/>
                            <TextBlock Text="{x:Bind CurrentFilm.RatingKinopoisk, Mode=OneWay}" Foreground="Gold" FontSize="16" Margin="0, 2, 0, 0"/>
                        </StackPanel>

                        <Rectangle Fill="#FFD700" Height="1" Margin="0,15,0,15" Opacity="0.3"/>

                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <FontIcon Glyph="" Foreground="DodgerBlue" FontSize="16"/>
                            <TextBlock Text="iMDB: " Foreground="DodgerBlue" Margin="0, 5, 0, 0"/>
                            <TextBlock Text="{x:Bind CurrentFilm.RatingImdb, Mode=OneWay}" Foreground="DodgerBlue" FontSize="16" Margin="0, 2, 0, 0"/>
                        </StackPanel>
                    </StackPanel>
                    <Rectangle Fill="#FFD700" Height="1" Margin="0,15,0,15" Opacity="0.3"/>

                    <StackPanel Margin="0,20,0,0" Spacing="10">
                        <TextBlock Text="О фильме" Foreground="#FFD700" FontSize="18" FontWeight="SemiBold"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="Год:" Foreground="#A0A0A0" Grid.Column="0"/>
                            <TextBlock Text="{x:Bind CurrentFilm.Year}" Foreground="White" Grid.Column="1"/>

                            <TextBlock Text="Страны:" Foreground="#A0A0A0" Grid.Column="0" Margin="0,25,0,0"/>
                            <TextBlock Text="{x:Bind GetCountriesString(CurrentFilm.Countries)}" 
                  Foreground="White" Grid.Column="1" Margin="0,25,0,0" TextWrapping="Wrap"/>

                            <TextBlock Text="Жанры:" Foreground="#A0A0A0" Grid.Column="0" Margin="0,50,0,0"/>
                            <TextBlock Text="{x:Bind GetGenresString(CurrentFilm.Genres)}" 
                  Foreground="White" Grid.Column="1" Margin="0,50,0,0" TextWrapping="Wrap"/>
                        </Grid>

                        <Rectangle Fill="#FFD700" Height="1" Margin="0,15,0,15" Opacity="0.3"/>
                    </StackPanel>

                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>
